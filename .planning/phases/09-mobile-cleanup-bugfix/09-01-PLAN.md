---
phase: 09-mobile-cleanup-bugfix
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/App.tsx
  - src/pages/Sessions.tsx
  - src/components/live/index.ts
files_deleted:
  - src/pages/LiveCoaching.tsx
  - src/components/live/LiveDashboard.tsx
  - src/components/live/LiveClientCard.tsx
  - src/components/live/LiveExerciseControl.tsx
  - src/components/live/SaveIndicator.tsx
  - src/components/live/ResumeDialog.tsx
autonomous: true

must_haves:
  truths:
    - "Live page does not exist in mobile app"
    - "No route to /live in main app"
    - "No navigation button to Live in Sessions page"
    - "ExerciseDetailModal still works in Exercises page"
    - "Tablet app builds and works unchanged"
  artifacts:
    - path: "src/App.tsx"
      provides: "Main app routing without /live route"
      contains: "Route path=\"/sessions\""
    - path: "src/pages/Sessions.tsx"
      provides: "Sessions page without Live button"
      min_lines: 50
    - path: "src/components/live/index.ts"
      provides: "Export only ExerciseDetailModal"
      contains: "ExerciseDetailModal"
    - path: "src/components/live/ExerciseDetailModal.tsx"
      provides: "Exercise detail modal used by Exercises.tsx"
      exports: ["ExerciseDetailModal"]
  key_links:
    - from: "src/pages/Exercises.tsx"
      to: "src/components/live/ExerciseDetailModal.tsx"
      via: "import ExerciseDetailModal from live/index.ts"
      pattern: "import.*ExerciseDetailModal.*from"
---

<objective>
Remove the Live coaching feature from the main mobile app (helix.toto-castaldi.com) while keeping the tablet PWA (live.helix.toto-castaldi.com) unchanged.

Purpose: The Live feature is only meant for tablet use. Removing it from mobile declutters the app and prevents confusion.
Output: Clean mobile app without Live route, button, or unused components.
</objective>

<execution_context>
@/home/toto/.claude/get-shit-done/workflows/execute-plan.md
@/home/toto/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-mobile-cleanup-bugfix/09-CONTEXT.md
@src/App.tsx
@src/pages/Sessions.tsx
@src/components/live/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove Live route from App.tsx</name>
  <files>src/App.tsx</files>
  <action>
Remove the Live route and its import from App.tsx:
- Remove import line: `import { LiveCoaching } from '@/pages/LiveCoaching'`
- Remove route line: `<Route path="/live" element={<LiveCoaching />} />`
  </action>
  <verify>
    - grep -c "LiveCoaching" src/App.tsx returns 0
    - grep -c '"/live"' src/App.tsx returns 0
  </verify>
  <done>
    - No LiveCoaching import in App.tsx
    - No /live route in App.tsx
  </done>
</task>

<task type="auto">
  <name>Task 2: Remove Live button from Sessions.tsx</name>
  <files>src/pages/Sessions.tsx</files>
  <action>
Remove the Live button and unused import from Sessions.tsx:
- Remove `Play` from lucide-react import (keep Filter, X, LayoutTemplate, and others)
- Remove the Live button JSX block:
```tsx
<Button size="sm" variant="default" onClick={() => navigate('/live')}>
  <Play className="h-4 w-4 mr-2" />
  Live
</Button>
```
  </action>
  <verify>
    - grep -c "Play" src/pages/Sessions.tsx returns 0 (or only unrelated uses)
    - grep -c '"/live"' src/pages/Sessions.tsx returns 0
  </verify>
  <done>
    - No Play icon import for Live button
    - No Live button in Sessions page
  </done>
</task>

<task type="auto">
  <name>Task 3: Update live/index.ts to export only ExerciseDetailModal</name>
  <files>src/components/live/index.ts</files>
  <action>
Update src/components/live/index.ts to only export ExerciseDetailModal:
- Keep only `export { ExerciseDetailModal } from './ExerciseDetailModal'`
- Remove all other exports:
  - LiveExerciseControl
  - LiveClientCard
  - LiveDashboard
  - SaveIndicator
  - SaveStatus type
  - ResumeDialog
  </action>
  <verify>
    - cat src/components/live/index.ts shows only ExerciseDetailModal export
    - grep -c "LiveDashboard\|LiveClientCard\|SaveIndicator\|ResumeDialog" src/components/live/index.ts returns 0
  </verify>
  <done>
    - index.ts exports only ExerciseDetailModal
    - All other Live-specific exports removed
  </done>
</task>

<task type="auto">
  <name>Task 4: Delete unused Live-specific component files</name>
  <files>
    src/pages/LiveCoaching.tsx
    src/components/live/LiveDashboard.tsx
    src/components/live/LiveClientCard.tsx
    src/components/live/LiveExerciseControl.tsx
    src/components/live/SaveIndicator.tsx
    src/components/live/ResumeDialog.tsx
  </files>
  <action>
Delete the following files that are no longer needed:
- src/pages/LiveCoaching.tsx
- src/components/live/LiveDashboard.tsx
- src/components/live/LiveClientCard.tsx
- src/components/live/LiveExerciseControl.tsx
- src/components/live/SaveIndicator.tsx
- src/components/live/ResumeDialog.tsx

Keep src/components/live/ExerciseDetailModal.tsx (used by Exercises.tsx)
  </action>
  <verify>
    - test ! -f src/pages/LiveCoaching.tsx
    - test ! -f src/components/live/LiveDashboard.tsx
    - test ! -f src/components/live/LiveClientCard.tsx
    - test ! -f src/components/live/LiveExerciseControl.tsx
    - test ! -f src/components/live/SaveIndicator.tsx
    - test ! -f src/components/live/ResumeDialog.tsx
    - test -f src/components/live/ExerciseDetailModal.tsx
  </verify>
  <done>
    - All unused Live component files deleted
    - ExerciseDetailModal.tsx preserved
  </done>
</task>

<task type="auto">
  <name>Task 5: Verify builds succeed for both apps</name>
  <files>package.json</files>
  <action>
Run builds for both the main app and tablet app to verify no regressions:
```bash
npm run build      # Main app
npm run build:live # Tablet app
```
Both must succeed without errors.
  </action>
  <verify>
    - npm run build exits with code 0
    - npm run build:live exits with code 0
  </verify>
  <done>
    - Main app builds successfully
    - Tablet app builds successfully (unchanged, still works)
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

```bash
# Build both apps
npm run build && npm run build:live

# Verify Live route is gone from main app
! grep -r "LiveCoaching" src/App.tsx

# Verify Live button is gone from Sessions
! grep -r '"/live"' src/pages/Sessions.tsx

# Verify deleted files no longer exist
! test -f src/pages/LiveCoaching.tsx
! test -f src/components/live/LiveDashboard.tsx
! test -f src/components/live/LiveClientCard.tsx
! test -f src/components/live/LiveExerciseControl.tsx
! test -f src/components/live/SaveIndicator.tsx
! test -f src/components/live/ResumeDialog.tsx

# Verify ExerciseDetailModal still exists (used by Exercises.tsx)
test -f src/components/live/ExerciseDetailModal.tsx

# Verify tablet app components are untouched
test -d src/live/components
test -d src/live/pages
```
</verification>

<success_criteria>
- Live page does not exist in mobile app (LiveCoaching.tsx deleted)
- No route to /live in App.tsx
- No navigation button to Live in Sessions.tsx
- ExerciseDetailModal preserved (used by Exercises.tsx)
- Tablet app builds successfully (npm run build:live)
- Main app builds successfully (npm run build)
</success_criteria>

<output>
After completion, create `.planning/phases/09-mobile-cleanup-bugfix/09-01-SUMMARY.md`
</output>
